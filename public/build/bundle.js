var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function s(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let i,r;function a(t,e){return i||(i=document.createElement("a")),i.href=e,t===i.href}function c(t,e){t.appendChild(e)}function u(t,e,n){t.insertBefore(e,n||null)}function d(t){t.parentNode.removeChild(t)}function f(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function m(t){return document.createTextNode(t)}function h(){return m(" ")}function v(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function p(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function y(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function $(t,e){t.value=null==e?"":e}function b(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function _(t){r=t}const x=[],w=[],k=[],C=[],S=Promise.resolve();let E=!1;function M(t){k.push(t)}const I=new Set;let O=0;function A(){const t=r;do{for(;O<x.length;){const t=x[O];O++,_(t),H(t.$$)}for(_(null),x.length=0,O=0;w.length;)w.pop()();for(let t=0;t<k.length;t+=1){const e=k[t];I.has(e)||(I.add(e),e())}k.length=0}while(x.length);for(;C.length;)C.pop()();E=!1,I.clear(),_(t)}function H(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(M)}}const K=new Set;function N(t,e){-1===t.$$.dirty[0]&&(x.push(t),E||(E=!0,S.then(A)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function j(l,i,a,c,u,f,g,m=[-1]){const h=r;_(l);const v=l.$$={fragment:null,ctx:null,props:f,update:t,not_equal:u,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(i.context||(h?h.$$.context:[])),callbacks:n(),dirty:m,skip_bound:!1,root:i.target||h.$$.root};g&&g(v.root);let p=!1;if(v.ctx=a?a(l,i.props||{},((t,e,...n)=>{const o=n.length?n[0]:e;return v.ctx&&u(v.ctx[t],v.ctx[t]=o)&&(!v.skip_bound&&v.bound[t]&&v.bound[t](o),p&&N(l,t)),e})):[],v.update(),p=!0,o(v.before_update),v.fragment=!!c&&c(v.ctx),i.target){if(i.hydrate){const t=function(t){return Array.from(t.childNodes)}(i.target);v.fragment&&v.fragment.l(t),t.forEach(d)}else v.fragment&&v.fragment.c();i.intro&&((y=l.$$.fragment)&&y.i&&(K.delete(y),y.i($))),function(t,n,l,i){const{fragment:r,on_mount:a,on_destroy:c,after_update:u}=t.$$;r&&r.m(n,l),i||M((()=>{const n=a.map(e).filter(s);c?c.push(...n):o(n),t.$$.on_mount=[]})),u.forEach(M)}(l,i.target,i.anchor,i.customElement),A()}var y,$;_(h)}function z(t,e,n){const o=t.slice();return o[21]=e[n],o}function D(t,e,n){const o=t.slice();return o[24]=e[n],o}function L(t){let e,n,s,l,i,r,a,f,m,y,_,x,w,k,C,S,E,I,O,A,H,K;return{c(){e=g("div"),n=g("h2"),n.textContent="Settings",s=h(),l=g("div"),l.textContent="Name",i=h(),r=g("input"),a=h(),f=g("div"),f.textContent="Location",m=h(),y=g("input"),_=h(),x=g("div"),x.textContent="Openweathermap API key",w=h(),k=g("input"),C=h(),S=g("div"),S.textContent="Units",E=h(),I=g("select"),O=g("option"),O.textContent="metric",A=g("option"),A.textContent="imperial",p(n,"id","settings-header"),p(n,"class","svelte-gvy734"),p(l,"class","label svelte-gvy734"),p(r,"type","text"),p(r,"class","svelte-gvy734"),p(f,"class","label svelte-gvy734"),p(y,"type","text"),p(y,"class","svelte-gvy734"),p(x,"class","label svelte-gvy734"),p(k,"type","text"),p(k,"class","svelte-gvy734"),p(S,"class","label svelte-gvy734"),O.__value="metric",O.value=O.__value,A.__value="imperial",A.value=A.__value,p(I,"class","svelte-gvy734"),void 0===t[10].units&&M((()=>t[17].call(I))),p(e,"id","settings"),p(e,"class","svelte-gvy734")},m(o,d){u(o,e,d),c(e,n),c(e,s),c(e,l),c(e,i),c(e,r),$(r,t[10].name),c(e,a),c(e,f),c(e,m),c(e,y),$(y,t[10].location),c(e,_),c(e,x),c(e,w),c(e,k),$(k,t[10].apiKey),c(e,C),c(e,S),c(e,E),c(e,I),c(I,O),c(I,A),b(I,t[10].units),H||(K=[v(r,"input",t[14]),v(y,"input",t[15]),v(k,"input",t[16]),v(I,"change",t[17])],H=!0)},p(t,e){1024&e&&r.value!==t[10].name&&$(r,t[10].name),1024&e&&y.value!==t[10].location&&$(y,t[10].location),1024&e&&k.value!==t[10].apiKey&&$(k,t[10].apiKey),1024&e&&b(I,t[10].units)},d(t){t&&d(e),H=!1,o(K)}}}function T(t){let e,n,o,s,l,i,r,a,$,b,_,x,w,k,C,S,E,M,I=t[10].name?", "+t[10].name:"",O=t[3]&&q(t),A=t[10].links,H=[];for(let e=0;e<A.length;e+=1)H[e]=J(z(t,A,e));return{c(){e=g("div"),n=g("div"),o=g("h1"),s=m("Good "),l=m(t[6]),i=m(I),r=m("."),a=h(),$=g("h2"),b=m("Today is "),_=m(t[7]),x=m("."),w=h(),k=g("div"),O&&O.c(),C=h(),S=g("div");for(let t=0;t<H.length;t+=1)H[t].c();p(o,"id","greeting"),p(o,"class","svelte-gvy734"),p($,"id","date"),p($,"class","svelte-gvy734"),p(n,"id","heading"),p(k,"id","weather-container"),p(k,"class","svelte-gvy734"),p(e,"id","heading-container"),p(e,"class","svelte-gvy734"),p(S,"id","links"),p(S,"class","svelte-gvy734")},m(d,f){u(d,e,f),c(e,n),c(n,o),c(o,s),c(o,l),c(o,i),c(o,r),c(n,a),c(n,$),c($,b),c($,_),c($,x),c(e,w),c(e,k),O&&O.m(k,null),u(d,C,f),u(d,S,f);for(let t=0;t<H.length;t+=1)H[t].m(S,null);E||(M=v(k,"click",t[11]),E=!0)},p(t,e){if(64&e&&y(l,t[6]),1024&e&&I!==(I=t[10].name?", "+t[10].name:"")&&y(i,I),128&e&&y(_,t[7]),t[3]?O?O.p(t,e):(O=q(t),O.c(),O.m(k,null)):O&&(O.d(1),O=null),1024&e){let n;for(A=t[10].links,n=0;n<A.length;n+=1){const o=z(t,A,n);H[n]?H[n].p(o,e):(H[n]=J(o),H[n].c(),H[n].m(S,null))}for(;n<H.length;n+=1)H[n].d(1);H.length=A.length}},d(t){t&&d(e),O&&O.d(),t&&d(C),t&&d(S),f(H,t),E=!1,M()}}}function q(t){let e,n,o,s,l,i;return{c(){e=g("div"),n=m(t[5]),o=m("Â°"),s=h(),l=g("div"),p(e,"id","temperature"),p(e,"class","svelte-gvy734"),p(l,"class",i="weather-icon "+t[4]+" svelte-gvy734")},m(t,i){u(t,e,i),c(e,n),c(e,o),u(t,s,i),u(t,l,i)},p(t,e){32&e&&y(n,t[5]),16&e&&i!==(i="weather-icon "+t[4]+" svelte-gvy734")&&p(l,"class",i)},d(t){t&&d(e),t&&d(s),t&&d(l)}}}function P(t){let e,n,o,s,l,i,r,a,f=t[24].name+"";return{c(){e=g("a"),n=g("span"),n.textContent=">",o=h(),s=g("span"),l=m(f),r=h(),a=g("br"),p(n,"class","arrow svelte-gvy734"),p(s,"class","text svelte-gvy734"),p(e,"href",i=t[24].url),p(e,"class","svelte-gvy734")},m(t,i){u(t,e,i),c(e,n),c(e,o),c(e,s),c(s,l),u(t,r,i),u(t,a,i)},p(t,n){1024&n&&f!==(f=t[24].name+"")&&y(l,f),1024&n&&i!==(i=t[24].url)&&p(e,"href",i)},d(t){t&&d(e),t&&d(r),t&&d(a)}}}function J(t){let e,n,o=t[21],s=[];for(let e=0;e<o.length;e+=1)s[e]=P(D(t,o,e));return{c(){e=g("div");for(let t=0;t<s.length;t+=1)s[t].c();n=h(),p(e,"class","link-column svelte-gvy734")},m(t,o){u(t,e,o);for(let t=0;t<s.length;t+=1)s[t].m(e,null);c(e,n)},p(t,l){if(1024&l){let i;for(o=t[21],i=0;i<o.length;i+=1){const r=D(t,o,i);s[i]?s[i].p(r,l):(s[i]=P(r),s[i].c(),s[i].m(e,n))}for(;i<s.length;i+=1)s[i].d(1);s.length=o.length}},d(t){t&&d(e),f(s,t)}}}function B(e){let n,s,l,i,r,f,$,b,_,x,w,k,C,S,E,M,I,O,A;function H(t,e){return t[1]?L:T}let K=H(e),N=K(e);return{c(){n=g("main"),s=g("div"),l=g("div"),i=g("img"),f=h(),$=g("div"),b=m(e[9]),_=m("-"),x=m(e[8]),w=h(),k=g("div"),N.c(),C=h(),S=g("div"),E=g("button"),E.textContent="settings",M=h(),I=g("a"),I.textContent="v1.2.6",p(i,"id","image"),a(i.src,r="gifs/"+e[2]+".gif")||p(i,"src",r),p(i,"alt",""),p(i,"class","svelte-gvy734"),p($,"id","time"),p($,"class","svelte-gvy734"),p(l,"id","image-container"),p(l,"class","svelte-gvy734"),p(k,"id","box"),p(k,"class","svelte-gvy734"),p(s,"id","content"),p(s,"class","svelte-gvy734"),p(E,"id","settings-button"),p(E,"class","svelte-gvy734"),p(I,"href","https://github.com/refact0r/startpage"),p(I,"id","version"),p(I,"class","svelte-gvy734"),p(S,"id","corner"),p(S,"class","svelte-gvy734"),p(n,"class","svelte-gvy734")},m(t,o){u(t,n,o),c(n,s),c(s,l),c(l,i),c(l,f),c(l,$),c($,b),c($,_),c($,x),c(s,w),c(s,k),N.m(k,null),c(n,C),c(n,S),c(S,E),c(S,M),c(S,I),O||(A=[v(i,"click",e[13]),v(E,"click",e[18])],O=!0)},p(t,[e]){4&e&&!a(i.src,r="gifs/"+t[2]+".gif")&&p(i,"src",r),512&e&&y(b,t[9]),256&e&&y(x,t[8]),K===(K=H(t))&&N?N.p(t,e):(N.d(1),N=K(t),N&&(N.c(),N.m(k,null)))},i:t,o:t,d(t){t&&d(n),N.d(),O=!1,o(A)}}}function G(t){return t<10?"0"+t:t}function R(e,n,o){let s,l,i,r,a,c=t,u=()=>(c(),c=function(e,...n){if(null==e)return t;const o=e.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}(d,(t=>o(10,a=t))),d);e.$$.on_destroy.push((()=>c()));let{config:d}=n;u();let f,g=!1,m=Math.floor(5*Math.random())+1,h=new Date,v="none",p=0;async function y(){const t=await fetch(`http://api.openweathermap.org/data/2.5/weather?q=${a.location}&units=${a.units}&appid=${a.apiKey}`);if(!t.ok)return console.log(t),void console.warn("Your Openweathermap API key is probably missing or invalid.");if(o(3,f=await t.json()),console.log(f),o(5,p=Math.round(f.main.temp)),"Clear"===f.weather[0].main){let t=Math.floor(h/1e3);t<f.sys.sunrise||t>f.sys.sunset?o(4,v="moon"):o(4,v="sun")}else"Rain"===f.weather[0].main||"Drizzle"===f.weather[0].main||"Thunderstorm"===f.weather[0].main?o(4,v="rain"):"Snow"===f.weather[0].main?o(4,v="snow"):o(4,v="cloud")}setInterval((()=>{o(12,h=new Date)}),1e3),setInterval((()=>{y()}),3e5),d.subscribe((t=>{y()}));return e.$$set=t=>{"config"in t&&u(o(0,d=t.config))},e.$$.update=()=>{4096&e.$$.dirty&&o(9,s=G(h.getHours()%12==0?12:h.getHours()%12)),4096&e.$$.dirty&&o(8,l=G(h.getMinutes())),4096&e.$$.dirty&&o(7,i=h.toLocaleDateString("en",{weekday:"long",year:"numeric",month:"long",day:"numeric"})),4096&e.$$.dirty&&o(6,r=h.getHours()<2?"night":h.getHours()<12?"morning":h.getHours()<18?"afternoon":h.getHours()<22?"evening":"night")},[d,g,m,f,v,p,r,i,l,s,a,y,h,()=>o(2,m=Math.floor(5*Math.random())+1),function(){a.name=this.value,d.set(a)},function(){a.location=this.value,d.set(a)},function(){a.apiKey=this.value,d.set(a)},function(){a.units=function(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}(this),d.set(a)},()=>o(1,g=!g)]}const U=[];const Y=function(e,n=t){let o;const s=new Set;function i(t){if(l(e,t)&&(e=t,o)){const t=!U.length;for(const t of s)t[1](),U.push(t,e);if(t){for(let t=0;t<U.length;t+=2)U[t][0](U[t+1]);U.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(l,r=t){const a=[l,r];return s.add(a),1===s.size&&(o=n(i)||t),l(e),()=>{s.delete(a),0===s.size&&(o(),o=null)}}}}(JSON.parse(localStorage.getItem("config"))??{name:"refactor",location:"Seattle",units:"imperial",apiKey:"",links:[[{name:"gmail",url:"https://mail.google.com"},{name:"calendar",url:"https://calendar.google.com"},{name:"drive",url:"https://drive.google.com"},{name:"docs",url:"https://docs.google.com"}],[{name:"github",url:"https://github.com"},{name:"translate",url:"https://translate.google.com"},{name:"finance",url:"https://finance.yahoo.com"},{name:"type",url:"https://monkeytype.com"}],[{name:"youtube",url:"https://youtube.com"},{name:"twitch",url:"https://twitch.tv"},{name:"reddit",url:"https://reddit.com"},{name:"insta",url:"http://instagram.com"}]]});Y.subscribe((t=>{localStorage.setItem("config",JSON.stringify(t))}));return new class extends class{$destroy(){!function(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}{constructor(t){super(),j(this,t,R,B,l,{config:0})}}({target:document.body,props:{config:Y}})}();
//# sourceMappingURL=bundle.js.map
